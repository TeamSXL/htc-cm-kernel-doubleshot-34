--- drivers/video/msm/msm_fb.h
+++ drivers/video/msm/msm_fb.h
@@ -182,7 +180,7 @@
 	struct list_head writeback_busy_queue;
 	struct list_head writeback_free_queue;
 	struct list_head writeback_register_queue;
-	uint32 register_buffer_cnt;
+	struct switch_dev writeback_sdev;
 	wait_queue_head_t wait_q;
 	struct ion_client *iclient;
 	unsigned long display_iova;
@@ -195,13 +193,28 @@
 	u32 writeback_state;
 	bool writeback_active_cnt;
 	int cont_splash_done;
-	
-	struct workqueue_struct *dimming_wq;
-	struct work_struct dimming_work;
-	struct timer_list dimming_update_timer;
-	struct workqueue_struct *sre_wq;
-   struct work_struct sre_work;
-   struct timer_list sre_update_timer;
+	void *cpu_pm_hdl;
+	u32 acq_fen_cnt;
+	struct sync_fence *acq_fen[MDP_MAX_FENCE_FD];
+	int cur_rel_fen_fd;
+	struct sync_pt *cur_rel_sync_pt;
+	struct sync_fence *cur_rel_fence;
+	struct sync_fence *last_rel_fence;
+	struct sw_sync_timeline *timeline;
+	int timeline_value;
+	u32 last_acq_fen_cnt;
+	struct sync_fence *last_acq_fen[MDP_MAX_FENCE_FD];
+	struct mutex sync_mutex;
+	struct completion commit_comp;
+	u32 is_committing;
+	struct work_struct commit_work;
+	void *msm_fb_backup;
+	boolean panel_driver_on;
+	int vsync_sysfs_created;
+};
+struct msm_fb_backup_type {
+	struct fb_info info;
+	struct mdp_display_commit disp_commit;
 };
 
 struct dentry *msm_fb_get_debugfs_root(void);
